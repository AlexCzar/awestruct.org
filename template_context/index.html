<html>
  <head>
    <meta charset='utf-8' />
    <title>awestruct: template context</title>
    <link href='/news.atom' rel='alternate' type='application/atom+xml' />
    <meta content='width=device-width, initial-scale=1.0' name='viewport' />
    <style type='text/css'>
      /*<![CDATA[*/
        body {
          padding-top: 60px;
        }
      /*]]>*/
    </style>
    <link href='http://awestruct.github.com/awestruct.org/stylesheets/styles.css' rel='stylesheet' type='text/css' />
    <!--[if lt IE 9]>
      <script src='http://html5shim.googlecode.com/svn/trunk/html5.js' type='text/javascript'></script>
    <![endif]-->
  </head>
  <body>
    <div class='navbar navbar-fixed-top'>
      <div class='navbar-inner'>
        <div class='container'>
          <a class='brand' href='http://awestruct.github.com/awestruct.org'>{:awestruct}</a>
          <ul class='nav'>
            <li>
              <a href='http://awestruct.github.com/awestruct.org'>Home</a>
            </li>
            <li>
              <a href='http://awestruct.github.com/awestruct.org/news/'>News</a>
            </li>
            <li class='dropdown' id='getting-started-menu'>
              <a class='dropdown-toggle' data-toggle='dropdown' href='#getting-started-menu'>
                Documentation
                <b class='caret'></b>
              </a>
              <ul class='dropdown-menu'>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/getting_started/'>Getting Started</a>
                </li>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/layout/'>Project Layout</a>
                </li>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/profiles/'>Site Profiles</a>
                </li>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/file_types/'>File Types</a>
                </li>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/skins/'>Skins</a>
                </li>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/template_context/'>Template Context</a>
                </li>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/deployment/'>Site Deployment</a>
                </li>
              </ul>
            </li>
            <li class='dropdown' id='extensions-menu'>
              <a class='dropdown-toggle' data-toggle='dropdown' href='#extensions-menu'>
                Extensions
                <b class='caret'></b>
              </a>
              <ul class='dropdown-menu'>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/extensions/'>Overview</a>
                </li>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/extensions/atomizer/'>Atomizer</a>
                </li>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/extensions/data_dir/'>DataDir</a>
                </li>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/extensions/disqus/'>Disqus</a>
                </li>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/extensions/flattr/'>Flattr</a>
                </li>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/extensions/indexifier/'>Indexifier</a>
                </li>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/extensions/intense_debate/'>IntenseDebate</a>
                </li>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/extensions/paginator/'>Paginator</a>
                </li>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/extensions/posts/'>Posts</a>
                </li>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/extensions/sitemap/'>Sitemap</a>
                </li>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/extensions/tag_cloud/'>TagCloud</a>
                </li>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/extensions/tagger/'>Tagger</a>
                </li>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/extensions/textile/'>Textile</a>
                </li>
              </ul>
            </li>
            <li class='dropdown' id='helpers-menu'>
              <a class='dropdown-toggle' data-toggle='dropdown' href='#helpers-menu'>
                Helpers
                <b class='caret'></b>
              </a>
              <ul class='dropdown-menu'>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/helpers/'>Overview</a>
                </li>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/helpers/partial/'>Partial</a>
                </li>
                <li>
                  <a href='http://awestruct.github.com/awestruct.org/helpers/google_analytics/'>Google Analytics</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class='container'>
      <div class='row'>
        <div class='span4'>
          <div class='hero-unit'>
            <h2>
              {:awestruct}
            </h2>
            <a href='http://travis-ci.org/awestruct/awestruct'>
              <img src='https://secure.travis-ci.org/awestruct/awestruct.png' />
            </a>
            <h3>
              Latest version is 0.2.18
            </h3>
            <p>
              A static site-baking tool.
              <br />
              Have you been awestructed?
            </p>
            <p>
              <a class='btn btn-primary btn-large' href='http://awestruct.github.com/awestruct.org/getting_started/'>Get Started!</a>
            </p>
          </div>
          <div id='sidebar'>
            <ul class='nav nav-tabs nav-stacked'>
              <li>
                <a href='http://awestruct.github.com/awestruct.org/gallery/'>Gallery</a>
              </li>
              <li>
                <a href='http://awestruct.github.com/awestruct.org/source/'>Source Code</a>
              </li>
              <li>
                <a href='http://awestruct.github.com/awestruct.org/yardoc/'>API Documentation</a>
              </li>
              <li>
                <a href='mailto:talk-subscribe@awestruct.org?subject=subscribe'>Mailing List</a>
              </li>
              <li>
                <a href='http://talk-archive.awestruct.org/'>List Archives</a>
              </li>
              <li>
                <a href='http://twitter.com/awestructed'>Twitter</a>
              </li>
            </ul>
          </div>
        </div>
        <div class='span8'>
          
          
          <div class="page-header">
          <h1>Template Context</h1>
          </div>
          
          
          <p>A few root objects are available within any of the supported template types.</p>
          
          <h2><code>content</code></h2>
          
          <p>The <code>content</code> object is primarily used from within layouts, as it holds
          the content from the previously rendered page or content.</p>
          
          <h2><code>site</code></h2>
          
          <p>The <code>site</code> object is the top-level object available within the template.<br/>
          Various <a href="/extensions/">extensions</a> may add additional properties to this
          object.  By default, it has the following:</p>
          
          <h3><code>site.base_url</code></h3>
          
          <p>Default this is set to <code>http://localhost:4242</code>.  Through the <code>_config/site.yml</code>
          file, you may override this value to the URL of your product site, for instance.
          Normally this is not required, except when creating fully-qualified URLs, which is
          rare.</p>
          
          <h3><code>site.pages</code></h3>
          
          <p>From the <code>site</code> object, you have access to the array of registered pages. All
          struct-based meta-data for each page is directly accessible (and alterable)
          from it.  See the section on <code>page</code> below for more details.</p>
          
          <pre><code>site.pages.each do |page|&#x000A;  puts "page.title=#{page.title}"&#x000A;  puts "page.layout=#{page.layout}"&#x000A;end&#x000A;</code></pre>
          
          <p>When templates are interpreted, changes to this array are undefined.  Before the
          rendering phase, extensions may add/remove pages within this array, or alter details
          on the individual pages themselves.</p>
          
          <h2><code>page</code></h2>
          
          <p>The <code>page</code> object is set to the struct for each page in turn, during processing.
          It provides access to any properties set in the front-matter, along with
          other properties used by the engine or extensions.</p>
          
          <h3><code>page.url</code></h3>
          
          <p>The <code>url</code> property of each page provides a <em>relative</em> URL from the root of the site
          for accessing the page. The URL may or may not directly match the output file.</p>
          
          <p>For instance, any path that ends with <code>/index.html</code> will not include the <code>index.html</code>
          portion in the resulting URL.</p>
          
          <p>This allows for the top-level page of the site (<code>/index.html</code>) to have a URL of simply <code>/</code>.
          The same rule applies for any directory's <code>index.html</code>.</p>
          
          <h3><code>page.layout</code></h3>
          
          <p>Normally set through a page's front-matter, the <code>layout</code> property is used by the
          engine to recursively surround page content with a layout.  Any layout
          may also specify a layout for itself to use, until some end is reached.</p>
          
          <p>The <code>layout</code> property should reference the <em>simple name</em> of the layout.</p>
          
          <p>A page <code>index.html.haml</code> wanting to use the layout from <code>_layouts/default.html.haml</code>
          should simply specify front-matter such as</p>
          
          <pre><code>---&#x000A;layout: default&#x000A;---&#x000A;</code></pre>
          
          <p>The correct layout extension (<code>.html</code>) will be selected based upon the page's
          own extension.</p>
          
          <h2>Additional helpers</h2>
          
          <p>Additional <a href="/helpers/">helpers may be configured into the pipeline</a>.</p>
        </div>
      </div>
      <div class='row'>
        <hr />
        <footer>
          <p>&copy; Bob McWhirter 2012</p>
          <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.1/jquery.min.js' type='text/javascript'></script>
          <script src='http://awestruct.github.com/awestruct.org/javascript/bootstrap-dropdown.js' type='text/javascript'></script>
        </footer>
      </div>
    </div>
  </body>
</html>
