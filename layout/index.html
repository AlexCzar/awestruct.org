<html>
  <head>
    <meta charset='utf-8' />
    <title>awestruct: layout</title>
    <link href='/news.atom' rel='alternate' type='application/atom+xml' />
    <meta content='width=device-width, initial-scale=1.0' name='viewport' />
    <style type='text/css'>
      /*<![CDATA[*/
        body {
          padding-top: 60px;
        }
      /*]]>*/
    </style>
    <link href='http://awestruct.github.com/awestruct.org/stylesheets/styles.css' rel='stylesheet' type='text/css' />
    <!--[if lt IE 9]>
      <script src='//html5shim.googlecode.com/svn/trunk/html5.js' type='text/javascript'></script>
    <![endif]-->
  </head>
  <body>
    <div class='navbar navbar-fixed-top'>
      <div class='navbar-inner'>
        <div class='container'>
          <a class='brand' href='http://awestruct.github.com/awestruct.org'>{:awestruct}</a>
          <ul class='nav'>
            <li>
              <a href='/'>Home</a>
            </li>
            <li>
              <a href='/news/'>News</a>
            </li>
            <li class='dropdown' id='getting-started-menu'>
              <a class='dropdown-toggle' data-toggle='dropdown' href='#getting-started-menu'>
                Documentation
                <b class='caret'></b>
              </a>
              <ul class='dropdown-menu'>
                <li>
                  <a href='/getting_started/'>Getting Started</a>
                </li>
                <li>
                  <a href='/layout/'>Project Layout</a>
                </li>
                <li>
                  <a href='/profiles/'>Site Profiles</a>
                </li>
                <li>
                  <a href='/file_types/'>File Types</a>
                </li>
                <li>
                  <a href='/skins/'>Skins</a>
                </li>
                <li>
                  <a href='/template_context/'>Template Context</a>
                </li>
                <li>
                  <a href='/deployment/'>Site Deployment</a>
                </li>
              </ul>
            </li>
            <li class='dropdown' id='extensions-menu'>
              <a class='dropdown-toggle' data-toggle='dropdown' href='#extensions-menu'>
                Extensions
                <b class='caret'></b>
              </a>
              <ul class='dropdown-menu'>
                <li>
                  <a href='/extensions/'>Overview</a>
                </li>
                <li>
                  <a href='/extensions/atomizer/'>Atomizer</a>
                </li>
                <li>
                  <a href='/extensions/data_dir/'>DataDir</a>
                </li>
                <li>
                  <a href='/extensions/disqus/'>Disqus</a>
                </li>
                <li>
                  <a href='/extensions/flattr/'>Flattr</a>
                </li>
                <li>
                  <a href='/extensions/indexifier/'>Indexifier</a>
                </li>
                <li>
                  <a href='/extensions/intense_debate/'>IntenseDebate</a>
                </li>
                <li>
                  <a href='/extensions/paginator/'>Paginator</a>
                </li>
                <li>
                  <a href='/extensions/posts/'>Posts</a>
                </li>
                <li>
                  <a href='/extensions/sitemap/'>Sitemap</a>
                </li>
                <li>
                  <a href='/extensions/tag_cloud/'>TagCloud</a>
                </li>
                <li>
                  <a href='/extensions/tagger/'>Tagger</a>
                </li>
                <li>
                  <a href='/extensions/textile/'>Textile</a>
                </li>
              </ul>
            </li>
            <li class='dropdown' id='helpers-menu'>
              <a class='dropdown-toggle' data-toggle='dropdown' href='#helpers-menu'>
                Helpers
                <b class='caret'></b>
              </a>
              <ul class='dropdown-menu'>
                <li>
                  <a href='/helpers/'>Overview</a>
                </li>
                <li>
                  <a href='/helpers/partial/'>Partial</a>
                </li>
                <li>
                  <a href='/helpers/google_analytics/'>Google Analytics</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class='container'>
      <div class='row'>
        <div class='span4'>
          <div class='hero-unit'>
            <h2>
              {:awestruct}
            </h2>
            <h3>
              Latest version is 0.2.18
            </h3>
            <p>
              A static site-baking tool.
              <br />
              Have you been awestructed?
            </p>
            <p>
              <a class='btn btn-primary btn-large' href='/getting_started/'>Get Started!</a>
            </p>
          </div>
          <div id='sidebar'>
            <ul class='nav nav-tabs nav-stacked'>
              <li>
                <a href='/gallery/'>Gallery</a>
              </li>
              <li>
                <a href='/source/'>Source Code</a>
              </li>
              <li>
                <a href='/yardoc/'>API Documentation</a>
              </li>
              <li>
                <a href='mailto:talk-subscribe@awestruct.org?subject=subscribe'>Mailing List</a>
              </li>
              <li>
                <a href='http://talk-archive.awestruct.org/'>List Archives</a>
              </li>
              <li>
                <a href='http://twitter.com/awestructed'>Twitter</a>
              </li>
            </ul>
          </div>
        </div>
        <div class='span8'>
          <div class="page-header">
          <h1>Project layout</h1>
          </div>
          
          
          <h2>Project Files &amp; Directories</h2>
          
          <p>Any typical file, starting at the top of your site tree, may be interpreted
          as a <a href="/file_types/">template</a>. Any unrecognized file type will be copied
          verbatim to the output tree. Directories will be copied and the files within
          them will be interpreted as templates, or copied verbatim if the file type
          is not recognized for filtering.</p>
          
          <p>Any file or directory whose first character is an underscore <code>_</code> will be ignored.
          All files starting with a dot, for example, <code>.gitignore</code> will likewise be
          ignored, except for any file named <code>.htaccess</code>, which will be copied verbatim
          into the output tree.</p>
          
          <h3>Stylesheets</h3>
          
          <p>The <code>stylesheets/</code> directory will contain a starter template based on the framework
          specified, if any, when the project was created. Place your .css, .scss or .sass
          files in here.  Straight CSS will be copied verbatim to the output tree, while
          .scss and .sass files will be interpolated through the Compass-enabled Sass engine.</p>
          
          <h2>Special Files &amp; Directories</h2>
          
          <h3>_layouts/</h3>
          
          <p>The <code>_layouts/</code> directory contains Haml templates to be used as layouts (or skins)
          for content pages.</p>
          
          <p>Layouts should be named using double extensions, indicating the output type of the layout.
          The base extension will be used in locating layouts referenced from pages.</p>
          
          <p>For instance, a page named <code>index.html.haml</code> specifying a layout of <code>default</code> (without
          extension), the file <code>_layouts/default.html.haml</code> will be used.</p>
          
          <p>Another page, named <code>news.xml.haml</code> specifying a layout of <code>default</code> (without extension)
          would be wrapped in the layout in <code>_layouts/default.xml.haml</code>.</p>
          
          <h3>_config/</h3>
          
          <p>Directory containing site-specific state in the form
          of YAML files.</p>
          
          <p>Each YAML file is loaded, converted into an <code>OpenStruct</code>-based
          tree as much as possible, and assigned to a similarly-named
          property on the <code>site</code> variable.</p>
          
          <p>For instance, if you had a a file <code>_config/authors.yml</code> with the
          following contents</p>
          
          <pre><code>- name: Bob McWhirter&#x000A;  email: bob@mcw...&#x000A;- name: Lance Ball&#x000A;  email: lance@lan...&#x000A;</code></pre>
          
          <p>Then from within templates, <code>site.authors</code> would provide access
          to an <code>OpenStruct</code>-converted tree of information.  This allows
          templates such as</p>
          
          <pre><code>- for author in site.authors&#x000A;  .author&#x000A;    #{author.name} can be reached via #{author.email}&#x000A;</code></pre>
          
          <h3>_config/site.yml</h3>
          
          <p>Unlike all other YAML files, the contents of <code>site.yml</code> are
          added directly to the <code>site</code> object.  One property, <code>base_url</code>
          is always available, and defaults to <code>localhost</code> or other
          appropriate value.</p>
          
          <p>Additionally, <a href="/profiles/">specific conditional profiles</a> may be defined
          to affect property values easily from the commandline.</p>
          
          <h3>_ext/</h3>
          
          <p>Directory containing site-specific Ruby extensions.  This
          directory is automatically added to the <code>$LOAD_PATH</code>.</p>
          
          <h3>_ext/pipeline.rb</h3>
          
          <p>File defining the pre-render pipeline of extensions.  Extensions
          are executed, in order, and provided the <code>site</code> variable.</p>
          
          <h3>_site/</h3>
          
          <p>The generated files are placed under the <code>_site/</code> directory.
          When you use <code>--server</code> mode, the server simply serves from
          this directory.</p>
          
          <h3>_tmp/</h3>
          
          <p>A temporary directory is created for extensions to cache
          things, if necessary.  It's available as <code>site.tmp_dir</code>.</p>
        </div>
      </div>
      <div class='row'>
        <hr />
        <footer>
          <p>&copy; Bob McWhirter 2012</p>
          <script src='//cdnjs.cloudflare.com/ajax/libs/jquery/1.7.1/jquery.min.js' type='text/javascript'></script>
          <script src='http://awestruct.github.com/awestruct.org/javascript/bootstrap-dropdown.js' type='text/javascript'></script>
        </footer>
      </div>
    </div>
  </body>
</html>
